<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class RestController</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class RestController</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The API RestController is meant for validating all the API calls.</p>
		<p class="notes">
			Located in <a class="field" href="_controllers---RestController.php.html">/controllers/RestController.php</a> (line <span class="field">7</span>)
		</p>
		
				
		<pre>Controller
   |
   --<a href="../default/APIController.html">APIController</a>
      |
      --RestController</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																								<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$API_METHODS" title="details" class="var-name">$API_METHODS</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																												
												<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#actionJson" title="details" class="method-name">actionJson</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#actionXML" title="details" class="method-name">actionXML</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#api_init" title="details" class="method-name">api_init</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">true</span>
										<a href="#authenticate_method" title="details" class="method-name">authenticate_method</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#execute_method" title="details" class="method-name">execute_method</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#expose_function" title="details" class="method-name">expose_function</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$function</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$description</span> = <span class="var-default">&quot;&quot;</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$call_method</span> = <span class="var-default">&quot;GET&quot;</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$require_api_auth</span> = <span class="var-default">false</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$require_user_auth</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#get_call_method" title="details" class="method-name">get_call_method</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#get_input" title="details" class="method-name">get_input</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$variable</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$default</span> = <span class="var-default">NULL</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_parameters_for_method" title="details" class="method-name">get_parameters_for_method</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#unexpose_function" title="details" class="method-name">unexpose_function</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">true</span>
										<a href="#verify_parameters" title="details" class="method-name">verify_parameters</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$API_METHODS" id="$API_METHODS"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$API_METHODS</span>
						(line <span class="line-number">9</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			
<A NAME='method_detail'></A>

<a name="methodactionJson" id="actionJson"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">actionJson</span> (line <span class="line-number">15</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">It is called by the API consumer who need Json response</p>
<p class="description"><p>Set response type Json for API call</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			actionJson
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodactionXML" id="actionXML"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">actionXML</span> (line <span class="line-number">25</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">It is called by the API consumer who need XML response</p>
<p class="description"><p>Set response type XML for API call</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			actionXML
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodapi_init" id="api_init"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">api_init</span> (line <span class="line-number">35</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">It will expose all the functions for API calls</p>
<p class="description"><p>Then invoke the authenticate_method and excute_method</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			api_init
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodauthenticate_method" id="authenticate_method"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">authenticate_method</span> (line <span class="line-number">502</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Check that the method call has the proper API and user authentication</p>
	<ul class="tags">
				<li><span class="field">return:</span> or throws an exception</li>
				<li><span class="field">throws:</span> APIException</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">true</span>
		<span class="method-name">
			authenticate_method
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: The api name that was exposed</span>			</li>
				</ul>
		
			
	</div>
<a name="methodexecute_method" id="execute_method"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">execute_method</span> (line <span class="line-number">353</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">It will first check for expose of methods then check for method callable</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			execute_method
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: The method</span>			</li>
				</ul>
		
			
	</div>
<a name="methodexpose_function" id="expose_function"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">expose_function</span> (line <span class="line-number">564</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Expose a function as a services api call.</p>
<p class="description"><p>Limitations: Currently cannot expose functions which expect objects.  It also cannot handle arrays of bools or arrays of arrays.  Also, input will be filtered to protect against XSS attacks through the API.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			expose_function
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$function</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$description</span> = <span class="var-default">&quot;&quot;</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$call_method</span> = <span class="var-default">&quot;GET&quot;</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$require_api_auth</span> = <span class="var-default">false</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$require_user_auth</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: The api name to expose - for example &quot;myapi.dosomething&quot;</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$function</span><span class="var-description">: Your function callback.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: <p>(optional) List of parameters in the same order as in                                   your function. Default values may be set for parameters which                                   allow REST api users flexibility in what parameters are passed.                                   Generally, optional parameters should be after required                                   parameters.</p><p>This array should be in the format                                     &quot;variable&quot; = array (                                                       type =&gt; 'int' | 'bool' | 'float' | 'string' | 'array'                                                       required =&gt; true (default) | false                                                       default =&gt; value (optional)                                        )</p></span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$description</span><span class="var-description">: (optional) human readable description of the function.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$call_method</span><span class="var-description">: (optional) Define what http method must be used for                                   this function. Default: GET</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$require_api_auth</span><span class="var-description">: (optional) (default is false) Does this method                                   require API authorization? (example: API key)</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$require_user_auth</span><span class="var-description">: (optional) (default is false) Does this method                                   require user authorization?</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_call_method" id="get_call_method"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_call_method</span> (line <span class="line-number">489</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Get the request method.</p>
	<ul class="tags">
				<li><span class="field">return:</span> HTTP request method</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			get_call_method
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodget_input" id="get_input"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_input</span> (line <span class="line-number">432</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Get some input from variables passed submitted through GET or POST.</p>
<p class="description"><p>If using any data obtained from get_input() in a web page, please be aware that  it is a possible vector for a reflected XSS attack. If you are expecting an  integer, cast it to an int. If it is a string, escape quotes.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			get_input
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$variable</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$default</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$variable</span><span class="var-description">: The variable name we want.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$default</span><span class="var-description">: A default value for the variable if it is not found.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_parameters_for_method" id="get_parameters_for_method"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_parameters_for_method</span> (line <span class="line-number">398</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This function analyses all expected parameters for a given method</p>
<p class="description"><p>This function sanitizes the input parameters and returns them in  an associated array.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> containing parameters as key =&gt; value</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_parameters_for_method
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: The method</span>			</li>
				</ul>
		
			
	</div>
<a name="methodunexpose_function" id="unexpose_function"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">unexpose_function</span> (line <span class="line-number">636</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Unregister an API method</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			unexpose_function
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: The api name that was exposed</span>			</li>
				</ul>
		
			
	</div>
<a name="methodverify_parameters" id="verify_parameters"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">verify_parameters</span> (line <span class="line-number">456</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Verify that the required parameters are present</p>
	<ul class="tags">
				<li><span class="field">return:</span> on success or exception</li>
				<li><span class="field">throws:</span> APIException</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">true</span>
		<span class="method-name">
			verify_parameters
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$parameters</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: Method name</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$parameters</span><span class="var-description">: List of expected parameters</span>			</li>
				</ul>
		
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../default/APIController.html">APIController</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../default/APIController.html#methoderror">APIController::error()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodsuccess">APIController::success()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodterminate">APIController::terminate()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodverify_for_robot_custom_id_existence">APIController::verify_for_robot_custom_id_existence()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodverify_for_robot_map_id_existence">APIController::verify_for_robot_map_id_existence()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodverify_for_robot_schedule_id_existence">APIController::verify_for_robot_schedule_id_existence()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodverify_for_robot_serial_number_existence">APIController::verify_for_robot_serial_number_existence()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodverify_robot_schedule_type">APIController::verify_robot_schedule_type()</a></span><br>
													<span class="method-name"><a href="../default/APIController.html#methodyii_api_echo">APIController::yii_api_echo()</a></span><br>
											</blockquote>
										
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Mon, 10 Dec 2012 16:29:57 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</p>
	</div></body>
</html>